P8105 Homework 2
================
Maria Serafini
10/1/2025

## Problem 1

Import `pols_month.csv`, create and clean `pols_month_df`

``` r
pols_month_df <- 
  read_csv("data/pols-month.csv", na = c("NA", "")) |> 
  janitor::clean_names() |> 
  separate(
    mon, into = c("year", "month", "day")) |> 
  mutate(
    month = case_match(
      month, 
      "01" ~ "January",
      "02" ~ "February",
      "03" ~ "March",
      "04" ~ "April", 
      "05" ~ "May", 
      "06" ~ "June", 
      "07" ~ "July", 
      "08" ~ "August", 
      "09" ~ "September", 
      "10" ~ "October", 
      "11" ~ "November", 
      "12" ~ "December"), 
    president = case_when(
      prez_gop == 1 ~ "gop",
      prez_dem == 1 ~ "dem")
    ) |> 
  select(-prez_gop, -prez_dem, -day)
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

Import `snp.csv`, create and clean `snp_df`

``` r
snp_df <-
  read_csv("data/snp.csv", na = c("NA", "")) |> 
  janitor::clean_names() |> 
  mutate(
    date = mdy(date))|> 
  separate(
    date, into = c("year", "month", "day")) |>
  mutate(
    month = case_match(
      month, 
      "01" ~ "January",
      "02" ~ "February",
      "03" ~ "March",
      "04" ~ "April", 
      "05" ~ "May", 
      "06" ~ "June", 
      "07" ~ "July", 
      "08" ~ "August", 
      "09" ~ "September", 
      "10" ~ "October", 
      "11" ~ "November", 
      "12" ~ "December")
  ) |> 
  select(-day)
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

Import `unemployment.csv`, create and clean `unemployment_df`

``` r
unemployment_df <-
  read_csv("data/unemployment.csv") |> 
  janitor::clean_names() |> 
  pivot_longer(
    cols = jan:dec, 
    names_to = "month",
    values_to = "unemploy_rate") |> 
  mutate(
    year = as.character(year),
    month = case_match(
      month, 
      "jan" ~ "January",
      "feb" ~ "February",
      "mar" ~ "March",
      "apr" ~ "April", 
      "may" ~ "May", 
      "jun" ~ "June", 
      "jul" ~ "July", 
      "aug" ~ "August", 
      "sep" ~ "September", 
      "oct" ~ "October", 
      "nov" ~ "November", 
      "dec" ~ "December")
    )
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

Join datasets `pols` and `snp`, merge `unemployment`

``` r
pols_snp_df <-
  left_join(pols_month_df, snp_df, by = c("year", "month"))

pol_economy_df <-
  left_join(pols_snp_df, unemployment_df, by = c("year", "month"))
```

The dataset `pols-month` contained 822 observations of 9 variables
related to the number of national politicians who are democratic or
republican at any given time. The dataset `snp` contained 787
observations of 2 variables related to Standard & Poor’s stock market
index (S&P), often used as a representative measure of stock market as a
whole and included two variables, `date` representing the date of the
observation and `close` representing the closing value of the S&P on the
associated date. The dataset `unemployment` contained 68 observations of
13 variables, including `year` representing the year of the measurement
for each row of observation and the percentage of unemployment for each
month of the associated year.

The combined dataset `pol_economy_df` contains 822 observations of 11
variables representing political and economic data from 1947 to 2015.
Key variables include: \* `year` - the year of the observed measurement
\* `month` - the month of the observed measurement \* `president` - the
political party of the president at the time of the observed measurement
\* `close` - the closing value of the S&P at the time of the observed
measurement \* `unemploy_rate` - the percentage of unemployment at the
time of the observed measurement
